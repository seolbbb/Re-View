# π“ Lecture Note AI - κ°•μ μμƒ μλ™ μ²λ¦¬ μ‹μ¤ν…

κ°•μ μμƒμ—μ„ μ¬λΌμ΄λ“λ¥Ό μλ™μΌλ΅ μ¶”μ¶ν•κ³ , μμ„±μ„ ν…μ¤νΈλ΅ λ³€ν™ν•μ—¬ μ²΄κ³„μ μΈ κ°•μ λ…ΈνΈλ¥Ό μƒμ„±ν•λ” μ‹μ¤ν…μ…λ‹λ‹¤.

## β¨ μ£Όμ” κΈ°λ¥

### 1. π¬ μ¤λ§νΈ λΉ„λ””μ¤ μΊ΅μ²

- **μ¥λ©΄ μ „ν™ κ°μ§€**: ν”„λ μ„ κ°„ ν”½μ…€ μ°¨μ΄ λ¶„μ„μΌλ΅ μ¬λΌμ΄λ“ μ „ν™ μλ™ κ°μ§€
- **λ§μ°μ¤ ν¬μΈν„° μ κ±°**: Temporal Median κΈ°λ²•μΌλ΅ κΉ¨λ—ν• μ¬λΌμ΄λ“ μ΄λ―Έμ§€ μ¶”μ¶
- **μ¤‘λ³µ μ κ±°**: dHash μ•κ³ λ¦¬μ¦μΌλ΅ μ μ‚¬ν• ν”„λ μ„ μλ™ ν•„ν„°λ§
- **λ””λ²„κ·Έ λ¨λ“**: μ›λ³Έ ν”„λ μ„κ³Ό μ²λ¦¬λ ν”„λ μ„ λΉ„κµ κ°€λ¥

### 2. π“ JSON νμ‹±

- ClovaSpeech STT κ²°κ³Όλ¥Ό `[MM:SS] ν…μ¤νΈ` ν•μ‹μΌλ΅ λ³€ν™
- νƒ€μ„μ¤νƒ¬ν”„ κΈ°λ° μ •λ ¬ λ° κ°€λ…μ„± ν–¥μƒ

---

## π€ Quick Start

### π“‹ μ‚¬μ „ μ¤€λΉ„

1. **λ°μ΄ν„° λ°°μΉ**

   ```bash
   Lecture-Note-AI/
   β”β”€β”€ src/
   β”‚   β””β”€β”€ data/
   β”‚       β”β”€β”€ input/          # κ°•μ μμƒ (.mp4) μ—¬κΈ°μ— λ°°μΉ
   β”‚       β””β”€β”€ output/         # ClovaSpeech JSON (.json) μ—¬κΈ°μ— λ°°μΉ
   ```

2. **μμ΅΄μ„± μ„¤μΉ**

   ```bash
   pip install opencv-python numpy
   ```

### β–¶οΈ μ‹¤ν–‰ λ°©λ²•

#### Option 1: μΊ΅μ²λ§ μ‹¤ν–‰ (μμƒ β†’ μ¬λΌμ΄λ“ μ΄λ―Έμ§€) β­ μ¶”μ²

```bash
cd Lecture-Note-AI
python src/process_content.py
```

**μ¶λ ¥ κ²°κ³Ό**:

- `src/data/output/{μμƒλ…}_frames/` - μ¶”μ¶λ μ¬λΌμ΄λ“ μ΄λ―Έμ§€
- `src/data/output/{μμƒλ…}_frames/debug_scene_changes/` - μ›λ³Έ ν”„λ μ„ (λ””λ²„κΉ…μ©)
- `src/data/output/*_readable.txt` - λ³€ν™λ ν…μ¤νΈ

#### Option 2: μ „μ²΄ νμ΄ν”„λΌμΈ μ‹¤ν–‰ (κ°λ° μ¤‘)

```bash
python main.py  # OCR, LLM ν†µν•© λ²„μ „ (ν„μ¬ κ°λ° μ¤‘)
```

---

## π”§ μ„¤μ • νλΌλ―Έν„°

`src/process_content.py` νμΌμ—μ„ λ‹¤μ νλΌλ―Έν„°λ¥Ό μ΅°μ •ν•  μ μμµλ‹λ‹¤:

```python
video_processor.extract_keyframes(
    video_path,
    output_dir=capture_output_dir,
    threshold=8,        # μ¥λ©΄ μ „ν™ λ―Όκ°λ„ (λ‚®μ„μλ΅ λ―Όκ°)
    min_interval=0.5,   # μµμ† μΊ΅μ² κ°„κ²© (μ΄)
    verbose=True        # λ””λ²„κ·Έ λ΅κ·Έ μ¶λ ¥
)
```

### νλΌλ―Έν„° κ°€μ΄λ“

| νλΌλ―Έν„° | κΈ°λ³Έκ°’ | μ„¤λ… | μ΅°μ • ν |
|---------|--------|------|---------|
| `threshold` | 8 | μ¥λ©΄ μ „ν™ κ°μ§€ μ„κ³„κ°’ | μ¬λΌμ΄λ“κ°€ λ§μ΄ λ„λ½λλ©΄ **λ‚®μ¶”κΈ°** (5~10)<br>λ„λ¬΄ λ§μ΄ μΊ΅μ²λλ©΄ **λ†’μ΄κΈ°** (15~20) |
| `min_interval` | 0.5 | μΊ΅μ² κ°„ μµμ† κ°„κ²© (μ΄) | λΉ λ¥Έ μ „ν™μ΄ λ§μΌλ©΄ **0.3**<br>λλ¦° μ „ν™μ΄λ©΄ **1.0** |
| `verbose` | True | μƒμ„Έ λ΅κ·Έ μ¶λ ¥ | λ””λ²„κΉ… μ‹ **True**<br>μ΄μ μ‹ **False** |

---

## π§  ν•µμ‹¬ μ•κ³ λ¦¬μ¦

### 1. Temporal Median (μ‹κ°„μ  μ¤‘μ•™κ°’)

**μ›λ¦¬**:

- μ—¬λ¬ μ‹μ μ ν”„λ μ„μ—μ„ κ° ν”½μ…€μ μ¤‘κ°„κ°’μ„ κ³„μ‚°
- μ›€μ§μ΄λ” λ¬Όμ²΄(λ§μ°μ¤)λ” μ΄μƒμΉλ΅ μ κ±°λκ³ , κ³ μ •λ λ°°κ²½(μ¬λΌμ΄λ“)λ§ μ¶”μ¶

**μμ‹**:

```
ν”½μ…€ (100, 200)μ—μ„ 50κ° ν”„λ μ„μ κ°’:
[10, 15, 200, 12, 14, 13, 11, 16, ...]
       β†‘ λ§μ°μ¤ ν¬μΈν„° (μ΄μƒμΉ)

Median = 13 β†’ λ§μ°μ¤ μ κ±°λ¨!
```

### 2. Multi-Point Sampling (λ‹¤μ¤‘ μ‹μ  μƒν”λ§)

**μ „λµ**:

- μ¬λΌμ΄λ“ μ „μ²΄ κµ¬κ°„(μ: 120μ΄)μ—μ„ λ¬΄μ‘μ„λ΅ 50κ° ν”„λ μ„ μμ§‘
- λ§μ°μ¤κ°€ λ‹¤μ–‘ν• μ„μΉμ— μλ” μκ°„λ“¤μ„ ν™•λ³΄
- Temporal Median κ³„μ‚° μ‹ κ° ν”½μ…€μ—μ„ λ§μ°μ¤κ°€ μ—†λ” ν”„λ μ„μ΄ κ³Όλ°μ

**ν¨κ³Ό**:

- β… μ •μ  λ§μ°μ¤λ„ μ κ±° κ°€λ¥
- β… μ¬λΌμ΄λ“ μμμ„± 100% λ³΄μ¥
- β… μ¬λΌμ΄λ“ νΌν•© λ°©μ§€

---

## π“‚ ν”„λ΅μ νΈ κµ¬μ΅°

```
Lecture-Note-AI/
β”β”€β”€ main.py                          # μ „μ²΄ νμ΄ν”„λΌμΈ (κ°λ° μ¤‘)
β”β”€β”€ src/
β”‚   β”β”€β”€ process_content.py           # β­ λ©”μΈ μ‹¤ν–‰ νμΌ (μΊ΅μ² + JSON νμ‹±)
β”‚   β”β”€β”€ capture/
β”‚   β”‚   β””β”€β”€ video_processor.py       # λΉ„λ””μ¤ μ²λ¦¬ (μ¥λ©΄ κ°μ§€, λ§μ°μ¤ μ κ±°)
β”‚   β”β”€β”€ data/
β”‚   β”‚   β”β”€β”€ json_parser.py           # JSON νμ‹±
β”‚   β”‚   β”β”€β”€ input/                   # μ…λ ¥ μμƒ (.mp4)
β”‚   β”‚   β””β”€β”€ output/                  # μ¶λ ¥ (JSON, μ΄λ―Έμ§€, ν…μ¤νΈ)
β”‚   β”β”€β”€ audio/                       # μμ„± μ²λ¦¬ (κ°λ° μ¤‘)
β”‚   β”β”€β”€ ocr/                         # OCR (κ°λ° μ¤‘)
β”‚   β””β”€β”€ fusion/                      # λ°μ΄ν„° μµν•© (κ°λ° μ¤‘)
β””β”€β”€ tests/
    β””β”€β”€ test_video_processor_simple.py  # λ‹¨μ„ ν…μ¤νΈ
```

---

## π› νΈλ¬λΈ”μν…

### λ¬Έμ  1: μ¬λΌμ΄λ“κ°€ λ„λ¬΄ λ§μ΄ μΊ΅μ²λ¨

**μ›μΈ**: `threshold`κ°€ λ„λ¬΄ λ‚®μ  
**ν•΄κ²°**: `threshold=15` λλ” `20`μΌλ΅ μ¦κ°€

### λ¬Έμ  2: μ¬λΌμ΄λ“κ°€ λ„λ½λ¨

**μ›μΈ**: `threshold`κ°€ λ„λ¬΄ λ†’μ  
**ν•΄κ²°**: `threshold=5` λλ” `8`λ΅ κ°μ†

### λ¬Έμ  3: λ§μ°μ¤ ν¬μΈν„°κ°€ λ‚¨μ•„μμ

**μ›μΈ**: μ¬λΌμ΄λ“ κµ¬κ°„μ΄ μ§§κ±°λ‚ λ§μ°μ¤κ°€ κ³ μ •λ¨  
**ν•΄κ²°**:

1. `debug_scene_changes` ν΄λ”μ—μ„ μ›λ³Έ ν™•μΈ
2. μ¬λΌμ΄λ“ κµ¬κ°„μ΄ 3μ΄ λ―Έλ§μ΄λ©΄ μλ™μΌλ΅ μ–‘λ°©ν–¥ μμ§‘ μ‚¬μ©
3. ν•„μ” μ‹ `num_samples` μ¦κ°€ (50 β†’ 100)

### λ¬Έμ  4: μ¤‘λ³µ μ΄λ―Έμ§€κ°€ λ§μ΄ μ €μ¥λ¨

**μ›μΈ**: `hash_threshold`κ°€ λ„λ¬΄ λ†’μ  
**ν•΄κ²°**: `video_processor.py`μ—μ„ `hash_threshold=5` β†’ `3`μΌλ΅ κ°μ†

---

## π“ μ„±λ¥ μ§€ν‘

- **μ²λ¦¬ μ†λ„**: 6λ¶„ μμƒ κΈ°μ¤€ μ•½ 30μ΄ (30fps, threshold=8)
- **λ§μ°μ¤ μ κ±°μ¨**: μ•½ 95% (λ‹¤μ¤‘ μ‹μ  μƒν”λ§ μ‚¬μ© μ‹)
- **μ¬λΌμ΄λ“ κ°μ§€ μ •ν™•λ„**: μ•½ 90% (threshold μ΅°μ • μ‹)

---

## π¤ ν‘μ—… κ°€μ΄λ“

### μ½”λ“ μμ • μ‹ μ£Όμμ‚¬ν•­

1. `video_processor.py`μ μ£Όμ„μ„ μ°Έκ³ ν•μ—¬ λ΅μ§ μ΄ν•΄
2. νλΌλ―Έν„° λ³€κ²½ μ‹ ν…μ¤νΈ μμƒμΌλ΅ κ²€μ¦
3. `debug_scene_changes` ν΄λ”λ΅ κ²°κ³Ό ν™•μΈ

### ν…μ¤νΈ λ°©λ²•

```bash
# λ‹¨μ„ ν…μ¤νΈ μ‹¤ν–‰
python tests/test_video_processor_simple.py

# μ‹¤μ  μμƒμΌλ΅ ν…μ¤νΈ
python src/process_content.py
```

---

## π“ λ³€κ²½ μ΄λ ¥

### 2025-12-01

- β… λ‹¤μ¤‘ μ‹μ  μƒν”λ§ κµ¬ν„
- β… μ¬λΌμ΄λ“ κ²½κ³„ μ¶”μ  κΈ°λ¥ μ¶”κ°€
- β… λ§μ°μ¤ μ κ±° μ•κ³ λ¦¬μ¦ κ°μ„ 
- β… μƒμ„Έ μ£Όμ„ μ¶”κ°€

### μ΄μ „ λ²„μ „

- κΈ°λ³Έ μ¥λ©΄ μ „ν™ κ°μ§€
- Temporal Median κµ¬ν„
- dHash μ¤‘λ³µ μ κ±°

---

## π“§ λ¬Έμ

ν”„λ΅μ νΈ κ΄€λ ¨ λ¬Έμμ‚¬ν•­μ€ ν€ μ±„λ„λ΅ μ—°λ½ μ£Όμ„Έμ”.
