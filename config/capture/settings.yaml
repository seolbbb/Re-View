# 캡처 입력/출력 경로
input_dir: data/inputs        # 입력 비디오 디렉토리
output_dir: data/outputs      # 출력 디렉토리 (캡처 결과 및 메타데이터 저장)

# ==============================================================================
# 1. 프레임 샘플링 및 전처리 설정 (Frame Sampling & Preprocessing)
# ==============================================================================
# 영상에서 분석할 프레임을 선택하고, 연산 효율을 위해 이미지를 최적화하는 단계입니다.
sample_interval_sec: 1.0        # 프레임 샘플링 간격 (초 단위). 값이 작을수록 정밀하지만 연산량이 증가합니다.
                                # 예: 0.5초 = 1초에 2프레임씩 추출하여 분석

enable_roi_detection: true      # 스마트 ROI(Region of Interest) 검출 활성화 여부.
                                # 영상의 첫 프레임에서 상하단 레터박스(검은 영역)를 감지하여 제외합니다.
                                # 불필요한 영역의 특징점 추출을 방지하여 속도와 정확도를 높입니다.

roi_padding: 10                 # ROI 검출 시 콘텐츠 영역 주변에 추가할 여백 (픽셀 단위).
                                # 콘텐츠 경계가 너무 타이트하게 잘리는 것을 방지합니다.

max_processing_width: 640      # 이미지 처리 시 리사이징할 최대 가로 해상도 (픽셀).
                                # 원본 해상도(예: 1920)가 이 값보다 크면 비율을 유지하며 축소합니다.
                                # 0으로 설정하면 다운스케일링 없이 원본 해상도를 사용합니다.

# ==============================================================================
# 2. 특징점 추출 설정 (Feature Extraction)
# ==============================================================================
# 선택된 프레임에서 유의미한 시각적 특징(텍스트, 코너 등)을 추출하는 기준입니다.
min_orb_features: 50            # 슬라이드로 인식하기 위해 필요한 최소 ORB 특징점 개수.
                                # 특징점이 이 값보다 적으면 정보가 없는 빈 화면이나 의미 없는 구간으로 간주합니다.

# ==============================================================================
# 3. 슬라이드 구간 판단 설정 (Slide Segmentation)
# ==============================================================================
# 연속된 프레임들의 특징점 변화를 추적하여 하나의 고정된 슬라이드 구간을 결정합니다.
persistence_threshold: 6        # 특징점이 '유효'하다고 판단하기 위해 지속되어야 하는 최소 샘플(프레임) 수.
                                # 예: 6회 연속 관측되면 노이즈가 아닌 실제 콘텐츠로 인정 (Streak Map 기법).

persistence_drop_ratio: 0.2     # 현재 슬라이드가 종료되었다고 판단하는 특징점 감소 비율 (0.0 ~ 1.0).
                                # 현재 추적 중인 특징점 수가 피크 대비 20%(0.2) 이상 감소하면 화면이 전환된 것으로 판단합니다.

min_interval: 1.0               # 캡처된 슬라이드 간의 최소 시간 간격 (초). (하위 호환성)
                                # 샘플링 간격(sample_interval_sec)보다 작을 수 없으므로, 동일하게 1.0초로 설정하여 논리적 정합성 유지.

# ==============================================================================
# 4. 중복 제거 설정 (Deduplication)
# ==============================================================================
# 캡처된 슬라이드들 간의 유사도를 비교하여 중복된 이미지를 제거합니다.
dedup_phash_threshold: 12       # 1차 필터링: Perceptual Hash(pHash)의 해밍 거리 임계값.
                                # 이 값 이하이면(거리가 가까우면) 1차적으로 유사한 이미지로 간주합니다.

dedup_orb_distance: 60          # 2차 정밀 검사: ORB 특징점 매칭 시 허용하는 거리 오차 (Distance).
                                # 매칭된 특징점 쌍이 유효하다고 판단하는 기준입니다.

dedup_sim_threshold: 0.7        # 2차 정밀 검사: 최종 중복 판정을 위한 유사도 임계값 (0.0 ~ 1.0).
                                # ORB 매칭 결과 계산된 유사도가 이 값 이상이면 중복으로 판단하여 저장하지 않습니다.