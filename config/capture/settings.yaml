# ==============================================================================
# 캡처 파이프라인 설정 (Capture Pipeline Settings)
# ==============================================================================
# 이 설정은 특징점 지속성(Persistence-based) 기반의 하이브리드 슬라이드 추출 알고리즘을 제어합니다.
# 알고리즘은 영상 내 특징점(ORB)이 특정 위치에서 얼마나 오래 머무는지를 계산하여 
# 실제 슬라이드와 동영상/애니메이션을 구분합니다.

# ------------------------------------------------------------------------------
# 1. 파일 경로 설정
# ------------------------------------------------------------------------------
input_dir: data/inputs        # 입력 비디오가 위치한 기본 디렉토리
output_dir: data/outputs     # 결과물(이미지, manifest)이 저장될 루트 디렉토리

# ------------------------------------------------------------------------------
# 2. 샘플링 및 지속성 설정 (핵심 알고리즘 파라미터)
# ------------------------------------------------------------------------------

# 영상에서 프레임을 추출하여 분석하는 주기(단위: 초).
# 값이 작을수록 정밀해지지만 처리 속도가 느려집니다. (기본값: 0.5)
sample_interval_sec: 0.5

# 특정 위치의 특징점이 '유효한 슬라이드 요소'로 인정받기 위해 필요한 최소 샘플 수.
# 예: sample_interval_sec가 0.5이고 이 값이 10이면, 최소 5초(0.5 * 10) 동안 
# 해당 특징점이 움직이지 않고 제자리에 있어야 고정된 텍스트/도형으로 간주합니다.
# 이 값을 높이면 동영상 내 움직이는 요소에 의한 오작동을 더 강력하게 방지할 수 있습니다.
persistence_threshold: 10

# ------------------------------------------------------------------------------
# 3. 슬라이드 전환 감지 설정
# ------------------------------------------------------------------------------

# 슬라이드가 교체되거나 종료되었다고 판단하는 기준(특징점 감소 비율).
# 0.4(40%)로 설정 시, 기존에 유지되던 고정 특징점의 40% 이상이 사라지면 
# 현재 슬라이드가 종료된 것으로 판단하고 결과를 저장합니다.
# 값이 낮을수록 슬라이드 전환에 민감하게 반응합니다.
persistence_drop_ratio: 0.4

# 새로운 슬라이드로 인식하기 위해 필요한 최소한의 유효 특징점 수.
# 화면에 텍스트가 너무 적거나(예: 아주 작은 로고 하나만 있는 경우) 빈 화면일 때 
# 무의미한 캡처가 발생하는 것을 방지합니다. (기본값: 50)
min_orb_features: 50

# ------------------------------------------------------------------------------
# 4. 하위 호환성용 (필요 시 활용)
# ------------------------------------------------------------------------------
# 픽셀 차이 기반 민감도 (과거 로직용)
sensitivity_diff: 0.3
# 연속 캡처 방지를 위한 최소 간격(초)
min_interval: 0.5