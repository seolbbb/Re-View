# ==============================================================================
# 1. 프레임 샘플링 및 전처리 설정 (Frame Sampling & Preprocessing)
# ==============================================================================
# 영상에서 분석할 프레임을 선택하고, 연산 효율을 위해 이미지를 최적화하는 단계입니다.
sample_interval_sec: 1.0        # 프레임 샘플링 간격 (초 단위). 값이 작을수록 정밀하지만 연산량이 증가합니다.
                                # 예: 0.5초 = 1초에 2프레임씩 추출하여 분석

enable_roi_detection: false     # 스마트 ROI(Region of Interest) 검출 활성화 여부.
                                # 영상의 첫 프레임에서 상하단 레터박스(검은 영역)를 감지하여 제외합니다.
                                # 불필요한 영역의 특징점 추출을 방지하여 속도와 정확도를 높입니다.

roi_padding: 5                 # ROI 검출 시 콘텐츠 영역 주변에 추가할 여백 (픽셀 단위).
                                # 콘텐츠 경계가 너무 타이트하게 잘리는 것을 방지합니다.

enable_smart_roi: true          # Smart ROI (Median Lock) 활성화 여부.
                                # 30프레임을 수집한 후 중앙값 기반으로 안정적인 ROI를 결정합니다.
                                # 일시적 UI 요소의 떨림을 방지합니다.

enable_adaptive_resize: true    # 적응형 리사이징 활성화 여부.
                                # 입력 해상도에 따라 자동으로 다운스케일합니다.
                                # - >2000px → 1280px (4K+ 비디오)
                                # - >1500px → 1024px (QHD 비디오)
                                # - >1000px → 800px  (FHD 비디오)
                                # - ≤1000px → 600px  (HD 및 그 이하)

# ==============================================================================
# 2. 특징점 추출 설정 (Feature Extraction)
# ==============================================================================
# 선택된 프레임에서 유의미한 시각적 특징(텍스트, 코너 등)을 추출하는 기준입니다.
min_orb_features: 50            # 슬라이드로 인식하기 위해 필요한 최소 ORB 특징점 개수.
                                # 특징점이 이 값보다 적으면 정보가 없는 빈 화면이나 의미 없는 구간으로 간주합니다.

# ==============================================================================
# 3. 슬라이드 구간 판단 설정 (Slide Segmentation)
# ==============================================================================
# 연속된 프레임들의 특징점 변화를 추적하여 하나의 고정된 슬라이드 구간을 결정합니다.
persistence_threshold: 6        # 특징점이 '유효'하다고 판단하기 위해 지속되어야 하는 최소 샘플(프레임) 수.
                                # 예: 6회 연속 관측되면 노이즈가 아닌 실제 콘텐츠로 인정 (Streak Map 기법).

persistence_drop_ratio: 0.15    # 현재 슬라이드가 종료되었다고 판단하는 특징점 감소 비율 (0.0 ~ 1.0).
                                # - 특징점 증가 시: 더 좋은 프레임으로 계속 갱신하며 대기 (정보량 증가)
                                # - 특징점 감소 시: 피크 대비 15% 이상 줄어들면 슬라이드 종료로 판단 후 저장 (화면 전환)
                                # (0.3 -> 0.15: 화면의 1/4만 변경되는 부분적인 전환도 감지하기 위해 민감도를 높임)

# ==============================================================================
# 4. 중복 제거 설정 (Deduplication)
# ==============================================================================
# 추출된 슬라이드들 중 내용이 동일한 중복 프레임을 제거하기 위한 기준입니다.
# 'dedup_phash_threshold'가 가장 주된 영향을 미칩니다.

dedup_phash_threshold: 12       # Perceptual Hash(pHash) 해밍 거리 임계값 (0 ~ 64).
                                # 두 이미지의 pHash 값이 이보다 작거나 같으면 중복(동일)으로 판단합니다.
                                # - 10 이하: 매우 엄격 (정말 똑같아야 중복 판정 -> 중복 제거가 덜 됨)
                                # - 15 이상: 느슨함 (비슷해 보이면 중복 판정 -> 중복 제거가 많이 됨)
                                # (기본값: 12)

dedup_orb_distance: 60          # ORB 특징점 매칭 시 허용용 거리 (Distance).
                                # 특징점 간의 거리가 이 값 이하인 매칭 쌍을 찾습니다.
                                # (기본값: 60)

dedup_sim_threshold: 0.7        # 두 이미지 간 전체 특징점 유사도 비율 (0.0 ~ 1.0).
                                # 매칭된 특징점 비율이 이 값 이상이어야 중복으로 최종 판정합니다.
                                # (기본값: 0.7)
